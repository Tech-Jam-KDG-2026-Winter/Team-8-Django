{% extends "base.html" %}
{% load static %}

{% block title %}マイページ編集{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/mypage.css' %}">
{% endblock %}

{% block content %}
<main>
  <div class="mypage-main">

    <div class="mypage-container-1">
      <h2>プロフィール編集</h2>
      <p style="margin: 8px 0 16px;">基本情報を更新できます。</p>

      <form method="post" action="{% url 'accounts:mypage_edit' %}">
        {% csrf_token %}

        <div class="profile">
          <h3>入力</h3>

          <div class="profile-detail">
            <p>名前</p>
            <input type="text" name="name" value="{{ profile.name|default_if_none:'' }}"
              style="width:100%; padding:8px;">

            <p style="margin-top:12px;">年齢</p>
            <input type="number" name="age" value="{{ profile.age|default_if_none:'' }}"
              style="width:100%; padding:8px;">

            <p style="margin-top:12px;">身長(cm)</p>
            <input type="number" step="0.1" name="height_cm" value="{{ profile.height_cm|default_if_none:'' }}"
              style="width:100%; padding:8px;">

            <p style="margin-top:12px;">体重(kg)</p>
            <input type="number" step="0.1" name="weight_kg" value="{{ profile.weight_kg|default_if_none:'' }}"
              style="width:100%; padding:8px;">
          </div>
        </div>

        <div style="margin-top: 16px; display:flex; gap:12px;">
          <button type="submit" class="reload" style="border:0; cursor:pointer;">保存</button>

          <a href="{% url 'accounts:profile' %}" class="reload" style="text-decoration:none;">キャンセル</a>
        </div>
      </form>
    </div>

    <div class="mypage-container-2">
      <div class="edit-btn">
        <div class="profile-edit">
          <img src="{% static 'images/edit.svg' %}" alt="編集アイコン" width="24" height="24">
          <p>編集ページ</p>
        </div>
      </div>

      <div class="user-name">
        <h2>現在の情報</h2>
      </div>

      <div class="profile">
        <h3>プロフィール</h3>
        <div class="profile-detail">
          <p>名前　{{ profile.name }}</p>
          <p>年齢　{{ profile.age }}</p>
          <p>身長　{{ profile.height_cm }}</p>
          <p>体重　{{ profile.weight_kg }}</p>
        </div>
      </div>
    </div>

  </div>
</main>
{% endblock %}